<div style="padding: 5px; background-color: #4C9950;">
  <h2 mat-dialog-title class="mat-primary" style="color: white;">
    {{ data.customerName }} - New Order
  </h2>
</div>


<mat-dialog-content [formGroup]="form" style="display: flex; flex-direction: column; gap: 1rem;">

  <!-- Order Section -->
  <h3>Order</h3>

  <!-- Employee & Shipper -->
  <div style="display: flex; gap: 1rem;">
    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Employee*</mat-label>
      <mat-select formControlName="empId">
        <mat-option *ngFor="let emp of employees$ | async" [value]="emp.empId">
          {{ emp.fullName }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Shipper*</mat-label>
      <mat-select formControlName="shipperId">
        <mat-option *ngFor="let shipper of shippers$ | async" [value]="shipper.shipperId">
          {{ shipper.companyName }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- Ship Name -->
  <mat-form-field appearance="outline">
    <mat-label>Ship Name*</mat-label>
    <input matInput formControlName="shipName" />
  </mat-form-field>

  <!-- Ship Address, City, Country -->
  <div style="display: flex; gap: 1rem;">
    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Ship Address*</mat-label>
      <input matInput formControlName="shipAddress" />
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Ship City*</mat-label>
      <input matInput formControlName="shipCity" />
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Ship Country*</mat-label>
      <input matInput formControlName="shipCountry" />
    </mat-form-field>
  </div>

  <!-- Order, Required, Shipped Date -->
  <div style="display: flex; gap: 1rem;">
    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Order Date*</mat-label>
      <input matInput [matDatepicker]="orderDate" formControlName="orderDate">
      <mat-datepicker-toggle matSuffix [for]="orderDate"></mat-datepicker-toggle>
      <mat-datepicker #orderDate></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Required Date*</mat-label>
      <input matInput [matDatepicker]="requiredDate" formControlName="requiredDate">
      <mat-datepicker-toggle matSuffix [for]="requiredDate"></mat-datepicker-toggle>
      <mat-datepicker #requiredDate></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Shipped Date</mat-label>
      <input matInput [matDatepicker]="shippedDate" formControlName="shippedDate">
      <mat-datepicker-toggle matSuffix [for]="shippedDate"></mat-datepicker-toggle>
      <mat-datepicker #shippedDate></mat-datepicker>
    </mat-form-field>
  </div>

  <!-- Freight -->
  <mat-form-field appearance="outline">
    <mat-label>$ Freight*</mat-label>
    <input matInput type="number" formControlName="freight" />
  </mat-form-field>

  <!-- Order Details -->
  <h3>Order Details</h3>

  <mat-form-field appearance="outline">
    <mat-label>Product*</mat-label>
    <mat-select formControlName="productId">
      <mat-option *ngFor="let product of products$ | async" [value]="product.productId">
        {{ product.productName }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div style="display: flex; gap: 1rem;">
    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>$ Unit Price*</mat-label>
      <input matInput type="number" formControlName="unitPrice" />
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Quantity*</mat-label>
      <input matInput type="number" formControlName="qty" />
    </mat-form-field>

    <mat-form-field appearance="outline" style="flex: 1;">
      <mat-label>Discount*</mat-label>
      <input matInput type="number" formControlName="discount" />
    </mat-form-field>
  </div>

</mat-dialog-content>

<!-- Footer -->
<mat-dialog-actions align="end">
  <button mat-button (click)="close()">CLOSE</button>
  <button mat-flat-button color="primary" [disabled]="form.invalid" (click)="save()">SAVE</button>
</mat-dialog-actions>
